(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f76cfec"],{"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),i=r("2d00"),s=a("species");e.exports=function(e){return i>=51||!n((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"34ef":function(e,t,r){"use strict";r("9389")},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),i=r("b622"),s=i("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var s=n(t);s in e?a.f(e,s,i(0,r)):e[s]=r}},9389:function(e,t,r){},"93b9":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v(e._s(e.id?"编辑":"新建")+"广告位")]),r("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[r("el-form-item",{attrs:{label:"名称"}},[r("el-input",{staticStyle:{width:"30rem"},attrs:{placeholder:"请输入广告位名称"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),r("el-form-item",{attrs:{label:"广告"}},[r("el-button",{attrs:{type:"info",plain:"",size:"small"},on:{click:e.addAd}},[r("i",{staticClass:"el-icon-plus"}),e._v("添加广告 ")]),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.items,(function(t,n){return r("el-col",{key:n,attrs:{md:24}},[r("el-divider"),r("el-form-item",{attrs:{label:"跳转链接（URL)"}},[r("el-input",{staticStyle:{width:"30rem"},attrs:{placeholder:"请输入图片跳转链接"},model:{value:t.url,callback:function(r){e.$set(t,"url",r)},expression:"item.url"}})],1),r("el-form-item",{attrs:{label:"标题"}},[r("el-input",{staticStyle:{"margin-top":"0.5rem",width:"15rem"},attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(r){e.$set(t,"title",r)},expression:"item.title"}})],1),r("el-form-item",{staticStyle:{"margin-top":"0.5rem"},attrs:{label:"广告图"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadURl,"show-file-list":!1,headers:e.getAuthHeaders(),"on-success":function(r){return e.$set(t,"image",r.url)}}},[t.image?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.image,expression:"item.image"}],staticClass:"avatar"}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.delAd(n)}}},[e._v("删除")])],1)],1)})),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"warning","native-type":"el-submit"}},[e._v("保存")])],1)],1)],1)},a=[],i=r("1da1"),s=(r("96cf"),r("b0c0"),r("a434"),{props:{id:{}},data:function(){return{model:{items:[]}}},methods:{save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.model.name){t.next=3;break}return e.$message.error("广告位名称不能为空"),t.abrupt("return");case 3:if(!e.id){t.next=9;break}return t.next=6,e.$http.put("rest/ads/".concat(e.id),e.model);case 6:t.sent,t.next=12;break;case 9:return t.next=11,e.$http.post("rest/ads",e.model);case 11:t.sent;case 12:e.$router.push("/ads/list"),e.$message({type:"success",message:"保存成功"});case 14:case"end":return t.stop()}}),t)})))()},addAd:function(){this.model.items.push({image:"",url:""})},delAd:function(e){var t=this;this.$confirm("确认要删除该广告项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.model.items.splice(e,1),t.$message.success("删除成功")}))},fetch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/ads/".concat(e.id));case 2:r=t.sent,e.model=Object.assign({},e.model,r.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}}),o=s,l=(r("34ef"),r("2877")),c=Object(l["a"])(o,n,a,!1,null,null,null);t["default"]=c.exports},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),i=r("a691"),s=r("50c4"),o=r("7b0b"),l=r("65f0"),c=r("8418"),u=r("1dde"),f=u("splice"),d=Math.max,m=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,n,u,f,v,b,g=o(this),y=s(g.length),w=a(e,y),x=arguments.length;if(0===x?r=n=0:1===x?(r=0,n=y-w):(r=x-2,n=m(d(i(t),0),y-w)),y+r-n>p)throw TypeError(h);for(u=l(g,n),f=0;f<n;f++)v=w+f,v in g&&c(u,f,g[v]);if(u.length=n,r<n){for(f=w;f<y-n;f++)v=f+n,b=f+r,v in g?g[b]=g[v]:delete g[b];for(f=y;f>y-n+r;f--)delete g[f-1]}else if(r>n)for(f=y-n;f>w;f--)v=f+n-1,b=f+r-1,v in g?g[b]=g[v]:delete g[b];for(f=0;f<r;f++)g[f+w]=arguments[f+2];return g.length=y-n+r,u}})},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,i=Function.prototype,s=i.toString,o=/^\s*function ([^ (]*)/,l="name";n&&!(l in i)&&a(i,l,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-4f76cfec.ee3c77b4.js.map